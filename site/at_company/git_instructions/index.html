<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">

	<title>GIT - Ryan's Blog</title>

        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../css/base.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../..">Ryan's Blog</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="../..">INDEX</a>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">NOTES <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../helloworld/">HELLO WORLD!</a>
</li>

                    
                        
<li >
    <a href="../../set_steps/">SET UP MY FIRST BLOG</a>
</li>

                    
                        
<li >
    <a href="../../hello_world_again/">HELLO AGAIN!</a>
</li>

                    
                        
<li >
    <a href="../ideas/">WHEN AM TEMPORARILY AWAY FROM WEB</a>
</li>

                    
                        
<li >
    <a href="../../summeries/instructions_in_linux/">LINUX INSTRUCTIONS</a>
</li>

                    
                        
<li class="active">
    <a href="./">GIT</a>
</li>

                    
                        
<li >
    <a href="../steps_to_build_vpn/">VPN</a>
</li>

                    
                        
<li >
    <a href="../about_hotkeys/">HOTKEYS</a>
</li>

                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">PROJECTS <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../projects/smarthome/">Smart Home</a>
</li>

                    
                        
<li >
    <a href="../../projects/client_page/">Client Page</a>
</li>

                    
                        
<li >
    <a href="../../projects/ryan-im/">Ryan's IM</a>
</li>

                    
                        
<li >
    <a href="../../projects/deeplearning/">Deep Learning</a>
</li>

                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">WEB <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../debug_instructions/">HOW TO RUN DEBUG SERVER</a>
</li>

                    
                        
<li >
    <a href="../about_http/">HTTP Protocol</a>
</li>

                    
                        
<li >
    <a href="../flask_demo/">My First Flask Program</a>
</li>

                    
                        
<li >
    <a href="../about_db/">DATABASE</a>
</li>

                    
                        
<li >
    <a href="../develop_experiences/">EXPERIENCES</a>
</li>

                    
                        
<li >
    <a href="../about_sqlalchemy/">SQLAlchemy</a>
</li>

                    
                        
<li >
    <a href="../docker/">DOCKER</a>
</li>

                    
                        
<li >
    <a href="../jquery/">JQUERY</a>
</li>

                    
                        
<li >
    <a href="../css/">CSS</a>
</li>

                    
                        
<li >
    <a href="../node/">NODE</a>
</li>

                    
                        
<li >
    <a href="../nginx/">Nginx</a>
</li>

                    
                        
<li >
    <a href="../php/">PHP</a>
</li>

                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">LINUX HACKING <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../linux/build_from_source/">BUILD A KERNEL FROM SOURCE</a>
</li>

                    
                        
<li >
    <a href="../../linux/system_call/">ADD A HELLOWORLD SYSTEM CALL</a>
</li>

                    
                        
<li >
    <a href="../../linux/LKM_system_call/">USE LKM TO ADD A SYSCALL</a>
</li>

                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">PI <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../pi/pi-notes/">PI-NOTES</a>
</li>

                    
                        
<li >
    <a href="../../pi/kernel_compilation/">CROSS COMPILE</a>
</li>

                    
                        
<li >
    <a href="../../pi/sys_call/">SYSTEM CALL</a>
</li>

                    
                        
<li >
    <a href="../../pi/kernel_module/">LKM COMPILATION</a>
</li>

                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">DE1-SOC <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../soc/soc-notes/">DE1-SOC-NOTES</a>
</li>

                    
                    </ul>
                </li>
            
            
            
                <li >
                    <a href="../../readme/">README</a>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                <li >
                    <a rel="next" href="../../summeries/instructions_in_linux/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../steps_to_build_vpn/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#the-git-instructions">The Git Instructions</a></li>
        
            <li><a href="#reference">Reference</a></li>
        
            <li><a href="#about-config-the-editor">About config the editor:</a></li>
        
            <li><a href="#about-the-branch-operations">About the branch operations:</a></li>
        
            <li><a href="#about-the-basic-operations">About the basic operations:</a></li>
        
            <li><a href="#how-to-rollback">How to rollback:</a></li>
        
            <li><a href="#use-branches">Use branches</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="the-git-instructions">The Git Instructions</h1>
<p><em>modified on Mar 26th 2016 11:05AM</em></p>
<hr />
<h2 id="reference">Reference</h2>
<p><em>Git是目前最流行的版本管理系统，学会Git几乎成了开发者的必备技能。
Git有很多优势，其中之一就是远程操作非常简便。本文详细介绍5个Git命令，它们的概念和用法，理解了这些内容，你就会完全掌握Git远程操作。</em></p>
<pre><code>    git clone
    git remote
    git fetch
    git pull
    git push
</code></pre>
<hr />
<h3 id="git-clone">一、git clone</h3>
<hr />
<p>远程操作的第一步，通常是从远程主机克隆一个版本库，这时就要用到git clone命令。</p>
<p><code>git clone &lt;版本库的网址&gt;</code></p>
<p>比如，克隆jQuery的版本库。</p>
<p><code>git clone https://github.com/jquery/jquery.git</code></p>
<p>该命令会在本地主机生成一个目录，与远程主机的版本库同名。如果要指定不同的目录名，可以将目录名作为git clone命令的第二个参数。</p>
<p><code>git clone &lt;版本库的网址&gt; &lt;本地目录名&gt;</code></p>
<p>git clone支持多种协议，除了HTTP(s)以外，还支持SSH、Git、本地文件协议等，下面是一些例子。</p>
<pre><code>    git clone http[s]://example.com/path/to/repo.git/
    git clone ssh://example.com/path/to/repo.git/
    git clone git://example.com/path/to/repo.git/
    git clone /opt/git/project.git
    git clone file:///opt/git/project.git
    git clone ftp[s]://example.com/path/to/repo.git/
    git clone rsync://example.com/path/to/repo.git/
    SSH协议还有另一种写法。
</code></pre>
<p><code>git clone [user@]example.com:path/to/repo.git/</code></p>
<p>通常来说，Git协议下载速度最快，SSH协议用于需要用户认证的场合。各种协议优劣的详细讨论请参考官方文档。</p>
<hr />
<h3 id="git-remote">二、git remote</h3>
<hr />
<p>为了便于管理，Git要求每个远程主机都必须指定一个主机名。git remote命令就用于管理主机名。
不带选项的时候，git remote命令列出所有远程主机。</p>
<p><code>git remote</code></p>
<pre><code>    origin
</code></pre>
<p>使用-v选项，可以参看远程主机的网址。</p>
<p><code>git remote -v</code></p>
<pre><code>    origin  git@github.com:jquery/jquery.git (fetch)
    origin  git@github.com:jquery/jquery.git (push)
</code></pre>
<p>上面命令表示，当前只有一台远程主机，叫做origin，以及它的网址。</p>
<p>克隆版本库的时候，所使用的远程主机自动被Git命名为origin。如果想用其他的主机名，需要用git clone命令的-o选项指定。</p>
<p><code>git clone -o jQuery https://github.com/jquery/jquery.git</code></p>
<p><code>git remote</code></p>
<p><code>jQuery</code></p>
<p>上面命令表示，克隆的时候，指定远程主机叫做jQuery。</p>
<p>git remote show命令加上主机名，可以查看该主机的详细信息。</p>
<p><code>git remote show &lt;主机名&gt;</code></p>
<p>git remote add命令用于添加远程主机。</p>
<p><code>git remote add &lt;主机名&gt; &lt;网址&gt;</code></p>
<p><code>git remote rm</code></p>
<p>命令用于删除远程主机。</p>
<p><code>git remote rm &lt;主机名&gt;</code></p>
<p>git remote rename命令用于远程主机的改名。</p>
<p><code>git remote rename &lt;原主机名&gt; &lt;新主机名&gt;</code></p>
<hr />
<h3 id="git-fetch">三、git fetch</h3>
<hr />
<p>一旦远程主机的版本库有了更新（Git术语叫做commit），需要将这些更新取回本地，这时就要用到git fetch命令。</p>
<p><code>git fetch &lt;远程主机名&gt;</code></p>
<p>上面命令将某个远程主机的更新，全部取回本地。</p>
<p>git fetch命令通常用来查看其他人的进程，因为它取回的代码对你本地的开发代码没有影响。</p>
<p>默认情况下，git fetch取回所有分支（branch）的更新。如果只想取回特定分支的更新，可以指定分支名。</p>
<p><code>git fetch &lt;远程主机名&gt; &lt;分支名&gt;</code></p>
<p>比如，取回origin主机的master分支。</p>
<p><code>git fetch origin master</code></p>
<p>所取回的更新，在本地主机上要用"远程主机名/分支名"的形式读取。比如origin主机的master，就要用origin/master读取。</p>
<p>git branch命令的-r选项，可以用来查看远程分支，-a选项查看所有分支。</p>
<pre><code>    git branch -r
    origin/master

    git branch -a
    master
    emotes/origin/master
</code></pre>
<p>上面命令表示，本地主机的当前分支是master，远程分支是origin/master。</p>
<p>取回远程主机的更新以后，可以在它的基础上，使用git checkout命令创建一个新的分支。</p>
<p><code>git checkout -b newBrach origin/master</code></p>
<p>上面命令表示，在origin/master的基础上，创建一个新分支。
此外，也可以使用git merge命令或者git rebase命令，在本地分支上合并远程分支。</p>
<p><code>git merge origin/master</code></p>
<p><strong>或者</strong></p>
<p><code>git rebase origin/master</code></p>
<p>上面命令表示在当前分支上，合并origin/master。</p>
<hr />
<h3 id="git-pull">四、git pull</h3>
<hr />
<p>git pull命令的作用是，取回远程主机某个分支的更新，再与本地的指定分支合并。它的完整格式稍稍有点复杂。</p>
<p><code>git pull &lt;远程主机名&gt; &lt;远程分支名&gt;:&lt;本地分支名&gt;</code></p>
<p>比如，取回origin主机的next分支，与本地的master分支合并，需要写成下面这样。</p>
<p><code>git pull origin next:master</code></p>
<p>如果远程分支是与当前分支合并，则冒号后面的部分可以省略。</p>
<p><code>git pull origin next</code></p>
<p>上面命令表示，取回origin/next分支，再与当前分支合并。实质上，这等同于先做git fetch，再做git merge。</p>
<pre><code>    git fetch origin
    git merge origin/next
</code></pre>
<p>在某些场合，Git会自动在本地分支与远程分支之间，建立一种追踪关系（tracking）。比如，在git clone的时候，所有本地分支默认与远程主机的同名分支，建立追踪关系，也就是说，本地的master分支自动"追踪"origin/master分支。</p>
<p>Git也允许手动建立追踪关系。</p>
<p><code>git branch --set-upstream master origin/next</code></p>
<p>上面命令指定master分支追踪origin/next分支。
如果当前分支与远程分支存在追踪关系，git pull就可以省略远程分支名。</p>
<p><code>git pull origin</code></p>
<p>上面命令表示，本地的当前分支自动与对应的origin主机"追踪分支"（remote-tracking branch）进行合并。</p>
<p>如果当前分支只有一个追踪分支，连远程主机名都可以省略。</p>
<p><code>git pull</code></p>
<p>上面命令表示，当前分支自动与唯一一个追踪分支进行合并。
如果合并需要采用rebase模式，可以使用--rebase选项。</p>
<p><code>git pull --rebase &lt;远程主机名&gt; &lt;远程分支名&gt;:&lt;本地分支名&gt;</code></p>
<p>如果远程主机删除了某个分支，默认情况下，git pull 不会在拉取远程分支的时候，删除对应的本地分支。这是为了防止，由于其他人操作了远程主机，导致git pull不知不觉删除了本地分支。</p>
<p>但是，你可以改变这个行为，加上参数 -p 就会在本地删除远程已经删除的分支。</p>
<p><code>git pull -p</code></p>
<p><strong>等同于下面的命令</strong></p>
<pre><code>    git fetch --prune origin
    git fetch -p
</code></pre>
<hr />
<h3 id="git-push">五、git push</h3>
<hr />
<p>git push命令用于将本地分支的更新，推送到远程主机。它的格式与git pull命令相仿。</p>
<p><code>git push &lt;远程主机名&gt; &lt;本地分支名&gt;:&lt;远程分支名&gt;</code></p>
<p>注意，分支推送顺序的写法是&lt;来源地&gt;:&lt;目的地&gt;，所以git pull是&lt;远程分支&gt;:&lt;本地分支&gt;，而git push是&lt;本地分支&gt;:&lt;远程分支&gt;。
如果省略远程分支名，则表示将本地分支推送与之存在"追踪关系"的远程分支（通常两者同名），如果该远程分支不存在，则会被新建。</p>
<p><code>git push origin master</code></p>
<p>上面命令表示，将本地的master分支推送到origin主机的master分支。如果后者不存在，则会被新建。</p>
<p>如果省略本地分支名，则表示删除指定的远程分支，因为这等同于推送一个空的本地分支到远程分支。</p>
<p><code>git push origin :master</code></p>
<p><strong>等同于</strong></p>
<p><code>git push origin --delete master</code></p>
<p>上面命令表示删除origin主机的master分支。</p>
<p>如果当前分支与远程分支之间存在追踪关系，则本地分支和远程分支都可以省略。</p>
<p><code>git push origin</code></p>
<p>上面命令表示，将当前分支推送到origin主机的对应分支。
如果当前分支只有一个追踪分支，那么主机名都可以省略。</p>
<p><code>git push</code></p>
<p>如果当前分支与多个主机存在追踪关系，则可以使用-u选项指定一个默认主机，这样后面就可以不加任何参数使用git push。</p>
<p><code>git push -u origin master</code></p>
<p>上面命令将本地的master分支推送到origin主机，同时指定origin为默认主机，后面就可以不加任何参数使用git push了。</p>
<p>不带任何参数的git push，默认只推送当前分支，这叫做simple方式。此外，还有一种matching方式，会推送所有有对应的远程分支的本地分支。Git 2.0版本之前，默认采用matching方法，现在改为默认采用simple方式。如果要修改这个设置，可以采用git config命令。</p>
<p><code>git config --global push.default matching</code></p>
<p><strong>或者</strong></p>
<p><code>git config --global push.default simple</code></p>
<p>还有一种情况，就是不管是否存在对应的远程分支，将本地的所有分支都推送到远程主机，这时需要使用--all选项。</p>
<p><code>git push --all origin</code></p>
<p>上面命令表示，将所有本地分支都推送到origin主机。</p>
<p>如果远程主机的版本比本地版本更新，推送时Git会报错，要求先在本地做git pull合并差异，然后再推送到远程主机。这时，如果你一定要推送，可以使用--force选项。</p>
<p><code>git push --force origin</code></p>
<p>上面命令使用--force选项，结果导致远程主机上更新的版本被覆盖。除非你很确定要这样做，否则应该尽量避免使用--force选项。
最后，git push不会推送标签（tag），除非使用--tags选项。</p>
<p><code>git push origin --tags</code></p>
<p><em>finish</em></p>
<hr />
<h2 id="about-config-the-editor">About config the editor:</h2>
<p><code>git config --global core.editor emacs</code></p>
<h2 id="about-the-branch-operations">About the branch operations:</h2>
<blockquote>
<ul>
<li>using <code>git branch</code> to check all the branches and your current branch</li>
<li>using <code>git branch -d</code> to delete the branch that are not needed</li>
<li>using <code>git checkout -b</code> to create or switch to another branch</li>
<li>using <code>git branch --set-upstream-to=origin/dev dev</code> to set the relation table beween your local branch and your remote branch</li>
</ul>
</blockquote>
<h2 id="about-the-basic-operations">About the basic operations:</h2>
<blockquote>
<ul>
<li>using <code>git pull</code></li>
<li>using <code>git push</code></li>
<li>using <code>git init</code></li>
<li>using <code>remote add</code></li>
<li>ETC.....</li>
</ul>
</blockquote>
<h2 id="how-to-rollback">How to rollback:</h2>
<p><img alt="rollback_helper" src="http://120.27.114.115:8088/myblog/git_rollback.png" /></p>
<h2 id="use-branches">Use branches</h2>
<ul>
<li>
<p><code>git branch</code> to see all and the current local branch</p>
</li>
<li>
<p><code>git checkout -b</code> to create a local branch</p>
</li>
<li>
<p><code>git checkout -d</code> to delete a local branch</p>
</li>
<li>
<p><code>git merge ..</code> to merge a branch</p>
</li>
<li>
<p><em>You may need to <code>--set-upstream-to</code> your remote branch to make it work</em></p>
</li>
</ul>

<head>
  <link rel="stylesheet" href="../../css/mycomment.css" media="screen" title="no title" charset="utf-8">
</head>

<template id="comment-box-tpl">
	<div class="comment">
		<div class="meta">
			<div>
				<span id="author" class="name">Ryan</span>
				<span id="comment-time" class="time">2016 April 23</span>
			</div>
			<span id="email" class="email">ryan@icloud.com</span>
		</div>
		<div id="content" class="content">
		This post is awesome.
		</div>
	</div>
</template>

<div class="comment-block" >
	<div class="comment" style="display:none">
		<div class="meta">
			<div>
				<span class="name">Ryan</span>
				<span class="time">2016 April 23</span>
			</div>
			<span class="email">ryan@icloud.com</span>
		</div>
		<div class="content">
		This post is awesome.
		</div>
	</div>

	<div class="comment" style="display:none">
    <div class="meta">
			<div>
				<span class="name">Ryan</span>
				<span class="time">2016 April 23</span>
			</div>
			<span class="email">ryan@icloud.com</span>
		</div>
		<div class="content">
		This post is awesome.
		</div>
	</div>

	<div class="reply">
		<textarea id="comment-content-input" placeholder="Your Comments Here..."></textarea>
		<div>
			<input id="author-input" type="text" placeholder="Your Name"></input>
			<input id="email-input" type="text" placeholder="Your Email Address"></input>
			<button class="submit">Submit</button>
		</div>
	</div>
</div>

<div class="statistic-block">
  <div class="count-block">
    <span>Visit Count: </span>
    <span id="visit-count">0</span>
  </div>
  <div class="time-block">
    <span>Last Visited: </span>
    <span id="last-visited"></span>
  </div>
</div>

<div class="fun-btn-box">
  <img src="../../img/top.png" class="fun-btn" id="move-top-btn"/>
  <img src="../../img/comment.png" class="fun-btn" id="move-bottom-btn" />
</div>

<script type="text/javascript" src="../../js/jquery-1.10.2.min.js"></script>

<script type="text/javascript" src="../../js/comment.js"></script></div>
        </div>

        <footer class="col-md-12">
            <hr>
            
            <center>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</center>
        </footer>

        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script>var base_url = '../..';</script>
        <script data-main="../../mkdocs/js/search.js" src="../../mkdocs/js/require.js"></script>
        <script src="../../js/base.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>